(function(a){a.fn.box=function(b){b=a.extend({move_num:1,display_num:5,margin_num:10,speed:3,times:3,Dom:"div",prev:"#xg-prev",next:"#xg-next",element:"div",auto:!0,allWidth:0,btn:!0},b);return this.each(function(){function q(){if(f>c)if(d+=e,0!=n&&(d=d==r+e-n?r:d),d<=r)g.animate({left:-d*l},m);else{var a=g.find(h).slice(0,e),b=(f-e)*l-c*l;g.append(a).css("left",-b).animate({left:-(f-c)*l},m);d=f-c}}var g=a(this),e=b.move_num,c=b.display_num,p=b.margin_num,m=b.speed,u=b.times,v=b.prev,w=b.next,h=
b.element,s=b.allWidth,t=b.auto,x=b.btn,f=a(this).find(h).length,y=a(this).find(h).outerHeight(),z=a(this).find(h).outerWidth()*c-0+p*c-0,s=a(this).find(h).outerWidth()*c+p*(c-1)+s,l=a(this).find(h).width()+p;f-c<e&&f>c&&(e=f-c,m/=2);g.wrap("<div class='xg-wraper'><div class='xg-container'></div></div>").css({position:"absolute",left:0,width:"99999px"});a(".xg-wraper").css({position:"relative",width:s,margin:"0 auto 0",overflow:"hidden"});g.find(h).css("margin-right",p);x&&a(".xg-container").before("<a href='javascript:void(0);' id='xg-prev'>prev</a><a href='javascript:void(0);' id='xg-next'>next</a>");
a(".xg-container").css({position:"relative","z-index":22,height:y,width:z,overflow:"hidden",margin:"0 auto"});if(t)var k=setInterval(q,1E3*u);g.hover(function(){clearInterval(k);k=null},function(){k=setInterval(q,1E3*u)});a(v).stop(!0,!1).on("click",function(){t&&clearInterval(k);k=null;if(!g.is(":animated")&&f-c>=e&&f>c)if(d-=e,0!=n&&(d=d==n-e?0:d),0<=d)g.animate({left:-d*l},m);else{var a=g.find(h).slice(-e),b=e*l;g.prepend(a).css("left",-b).animate({left:0},m);d=0}});a(w).stop(!0,!1).on("click",
function(){t&&clearInterval(k);k=null;!g.is(":animated")&&f-c>=e&&q()});var d=0,r=f-c,n=(f-c)%e})}})(jQuery);